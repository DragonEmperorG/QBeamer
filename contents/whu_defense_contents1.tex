% !TeX encoding = UTF-8
% !TeX root = ../whu-defense-qianlong.tex

%% ------------------------------------------------------------------------
%% Copyright (C) 2021-2023 SJTUG
%% 
%% SJTUBeamer Example Document by SJTUG
%% 
%% SJTUBeamer Example Document is licensed under a
%% Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.
%% 
%% You should have received a copy of the license along with this
%% work. If not, see <http://creativecommons.org/licenses/by-nc-sa/4.0/>.
%% -----------------------------------------------------------------------

\section{研究内容}

\subsection{研究内容1 数据驱动行人航迹推算方法研究}

\begin{frame}[t]
	\frametitle{研究内容1 数据驱动行人航迹推算方法研究}	
	\framesubtitle{数据驱动行人航迹推算方法架构}
	\vspace{-1cm}
	\begin{columns}[t]
		\begin{column}{0.5\textwidth}
		    \begin{block}{存在问题}
		    {
		    	\small
		        \begin{itemize}
					\item 只能输出模型预设的状态量
					\item 高频模型输出需要计算资源
		        \end{itemize}
    		 } 
			\end{block}
			\begin{block}{研究思路}
			 {
 		    	\small
				\begin{itemize}
					\item 基于滤波框架降低模型输出频率
					\item 量化手机握持姿态解决姿态多变的问题
				\end{itemize}
			}
			\end{block}
		\end{column}   
		\begin{column}{0.5\textwidth}
		    \begin{block}{状态定义}
      		{
  		    	\small
				\begin{equation*}
				   	\vb*{x}\left(t_n\right) := \left( \vb*{\chi}\left(t_n\right), \vb*{\theta}\left(t_n\right), \vb*{R}_s^b\left(t_n\right)\right) 
				\end{equation*}
			}
			\end{block}
			\begin{figure}
				\centering
				\includegraphics[height=2.2cm]{PedestrianDeadReckoningAlgorithmArchitecture.pdf}
			\end{figure}
		\end{column}
	\end{columns} 
	\begin{block}{数据驱动观测量}
		\begin{equation*}
			\vb*{R}_{b}^{n}\left(t_{n+1}\right), \vb*{R}_{s}^{b}\left(t_{n+1}\right),v^{b}_{b, \mathrm{lon}}\left(t_{n+1}\right)
			=
			f_{\mathrm{Estimator}}\left(\{\tilde{\vb*{\omega}}\left(t_i\right), \tilde{\vb*{f}}\left(t_i\right)\}_{i = n-W_{\mathrm{est}}}^{n}\right)
		\end{equation*}
	\end{block}
\end{frame}

\begin{frame}
	\frametitle{研究内容1 数据驱动行人航迹推算方法研究}
	\framesubtitle{时间更新}
	\begin{block}{状态量时间更新}
		{
			\vspace{-0.4cm}
			{
				\footnotesize
				\begin{align*}
					\vb*{R}\left(t_{n+1}\right) &= \vb*{R}\left(t_{n+1}\right) + \vb*{R}\left(t_{n}\right) \vb*{\Gamma}_{0}\left( \vb*{\omega}\left(t_{n}\right) \Delta t \right) \\
					\vb*{v}\left(t_{n+1}\right) &= \vb*{v}\left(t_{n}\right) 
					+ \vb*{R}\left(t_{n}\right) \vb*{\Gamma}_{1}\left( \vb*{\omega}\left(t_{n}\right) \Delta t \right) \vb*{f}\left(t_{n}\right) \Delta t 
					+ \vb*{g}\Delta t \\
					\vb*{p}\left(t_{n+1}\right) &= \vb*{p}\left(t_{n}\right) 
					+ \vb*{v}\left(t_{n}\right) \Delta t
					+ \vb*{R}\left(t_{n}\right) \vb*{\Gamma}_{2}\left( \vb*{\omega}\left(t_{n}\right) \Delta t \right) \vb*{f}\left(t_{n}\right) \left(\Delta t\right)^2 
					+ \frac{1}{2}\vb*{g}\left(\Delta t\right)^2 \\
					\vb*{\delta \omega}\left(t_{n+1}\right) &= \vb*{\delta \omega}\left(t_{n}\right) \\
					\vb*{\delta f}\left(t_{n+1}\right) &= \vb*{\delta f}\left(t_{n}\right)
				\end{align*}
			}
			\vspace{-0.6cm}
			\begin{equation*}
				\vb*{R}_s^b\left(t_{n+1}\right) = \vb*{R}_s^b\left(t_{n}\right) 
			\end{equation*}
		}
	\end{block}
	\begin{block}{状态量协方差时间更新}
		{\footnotesize 		
			\begin{equation*}
				\vb*{P}\left(t_{n+1}\right) = \vb*{F}\left(t_{n}\right) \vb*{P}\left(t_{n+1}\right) \vb*{F}^{\mathrm{T}}\left(t_{n}\right)
				+ \vb*{G}\left(t_{n}\right) \vb*{Q}\left(t_{n}\right) \vb*{G}^{\mathrm{T}}\left(t_{n}\right)
			\end{equation*}
		}
	\end{block} 
\end{frame}

\begin{frame}
	\frametitle{研究内容1 数据驱动行人航迹推算方法研究}
	\framesubtitle{量测更新}
	\vspace{-0.8cm}
	\begin{columns}[t]
		\begin{column}{0.5\textwidth}
			\begin{block}{观测方程}					
    			\scalebox{0.7}{
    				{\tiny
	    				\setlength{\tabcolsep}{2pt}
						\begin{tabular*}{\textwidth}{@{\extracolsep{\fill}}lll}
				            $ \tilde{\vb*{y}}_{\vb*{R}_s^b} = \tilde{\vb*{R}}_s^b $ 
				            & $ \hat{\vb*{y}}_{\vb*{R}_s^b} = \hat{\vb*{R}}_s^b $ 
				            & $ \vb*{r}_{\vb*{R}_s^b} = \log_{\mathrm{G}_{\mathrm{SO}\left(3\right)}}\left(\tilde{\vb*{y}}_{\vb*{R}_s^b}\left(\hat{\vb*{y}}_{\vb*{R}_s^b}\right)^{\mathrm{T}}\right) $ 
				            \\
				            $ \tilde{\vb*{y}}_{\vb*{R}_b^n} = \tilde{\vb*{R}}_b^n $
				            & $ \hat{\vb*{y}}_{\vb*{R}_b^n} = \hat{\vb*{R}}_s^n \left(\hat{\vb*{R}}_s^b\right)^{\mathrm{T}} $ 
				            & $ \vb*{r}_{\vb*{R}_b^n} = \log_{\mathrm{G}_{\mathrm{SO}\left(3\right)}}\left(\tilde{\vb*{y}}_{\vb*{R}_b^n}\left(\hat{\vb*{y}}_{\vb*{R}_b^n}\right)^{\mathrm{T}}\right) $ 
				            \\
				            $ \tilde{\vb*{y}}_{\vb*{v}_b^b} = 
				            \begin{pmatrix}
													           		0 & \tilde{v}_{\mathrm{lat}}^b & 0
													           	\end{pmatrix}^{\mathrm{T}} $ 
				            & $ \hat{\vb*{y}}_{\vb*{v}_b^b} = \hat{\vb*{R}}_s^b \left(\hat{\vb*{R}}_s^n\right)^{\mathrm{T}} \hat{\vb*{v}}_s^n $ 
				            & $ \vb*{r}_{\vb*{v}_b^b} = \tilde{\vb*{y}}_{\vb*{v}_b^b} - \hat{\vb*{y}}_{\vb*{v}_b^b} $
				   		\end{tabular*}
			   		}
		   		}
		   		\vspace{-0.5cm}
		   		\scalebox{0.7}{\parbox{.5\linewidth}{%
			   		{\tiny
						\begin{align*}
			    			\begin{pmatrix}
								\vb*{H}^{\vb*{R}_{s}^b} \\
								\vb*{H}^{\vb*{R}_b^n}  \\
								\vb*{H}^{\vb*{v}^b_{b}}
							\end{pmatrix} 
							&= 
							\begin{pmatrix}
								\vb*{I}_3 & \vb*{0}_3 & \vb*{0}_3 & \vb*{0}_3 & \vb*{I}_3 & \vb*{0}_3 \\
								\left(\vb*{R}_s^n \left(\vb*{R}_{s}^b\right)^{\mathrm{T}}\right)^{\mathrm{T}} & \vb*{0}_3 & \vb*{0}_3 & \vb*{0}_3 & \vb*{0}_3 & -\vb*{I}_3 \\
								\vb*{0}_3 & \hat{\vb*{R}}_s^v \left(\hat{\vb*{R}}_s^w\right)^{\mathrm{T}} & \vb*{0}_3 & \vb*{0}_3 & \vb*{0}_3 & -\left( \hat{\vb*{R}}_s^v \left(\hat{\vb*{R}}_s^w\right)^{\mathrm{T}} \hat{\vb*{v}}_s^w \right)_{\times}
							\end{pmatrix}
						\end{align*}
					}
		   		}}
			\end{block}
		\end{column}   
		\begin{column}{0.5\textwidth}
			\begin{block}{状态量量测更新}
			\vspace{-0.5cm}
			{
				\tiny	
				\begin{align*}
			    	\vb*{S}\left(t_{n+1}\right) &= \vb*{H}\left(t_{n+1}\right) \vb*{P}\left(t_{n+1}\right) \vb*{H}^{\mathrm{T}}\left(t_{n+1}\right) + \vb*{N}\left(t_{n+1}\right) \\
			    	\vb*{K}\left(t_{n+1}\right) &= \vb*{P}\left(t_{n+1}\right) \vb*{H}^{\mathrm{T}}\left(t_{n+1}\right) \vb*{S}^{-1}\left(t_{n+1}\right) \\
				    \vb*{e}\left(t_{n+1}\right) &= \vb*{H}\left(t_{n+1}\right) \vb*{r}\left(t_{n+1}\right) \\
					\vb*{\chi}\left(t_{n+1}^+\right)   &= \exp_{\mathrm{G}_{\mathrm{SE}_2\left(3\right)}}\left( \vb*{e}_{\vb*{\xi}_{\vb*{\chi}}}\left(t_{n+1}^+\right) \right) \vb*{\chi}\left(t_{n+1}\right)\\
					\vb*{\theta}\left(t_{n+1}^+\right) &= \vb*{\theta}\left(t_{n+1}\right) + \vb*{e}_{\vb*{\xi}_{\vb*{\theta}}}\left(t_{n+1}^+\right)
				\end{align*}
			}
			\vspace{-1.0cm}
			{
				\scriptsize	
				\begin{align*}
					\vb*{R}_s^b\left(t_{n+1}^+\right)  &= \exp_{\mathrm{G}_{\mathrm{SO}\left(3\right)}}\left( \vb*{e}_{\vb*{\xi}_{\vb*{R}_s^b}}\left(t_{n+1}^+\right) \right) \vb*{R}_s^b\left(t_{n+1}\right)
				\end{align*}
			}
			\end{block} 
		\end{column}
	\end{columns} 
	\begin{block}{状态量协方差量测更新}
		{\scriptsize%
			\begin{equation*}
				\vb*{P}\left(t_{n+1}^+\right) = \left(\vb*{I} - \vb*{K}\left(t_{n+1}\right)\vb*{H}\left(t_{n+1}\right)\right) \vb*{P}\left(t_{n+1}\right) \left(\vb*{I} - \vb*{K}\left(t_{n+1}\right)\vb*{H}\left(t_{n+1}\right)\right)^{\mathrm{T}} + \vb*{K}\left(t_{n+1}\right)\vb*{N}\left(t_{n+1}\right) \vb*{K}^{\mathrm{T}}\left(t_{n+1}\right)
			\end{equation*}
		}
	\end{block} 
\end{frame}

\begin{frame}[t]
	\frametitle{研究内容1 数据驱动行人航迹推算方法研究}
	\framesubtitle{RoNIN 数据集不同方法对比轨迹评价结果}
    {   
        \tiny        
		\begin{tabular*}{\linewidth}{@{\extracolsep{\fill}} cl cccccc}
			\toprule
			测试集                   & 评价指标                                        & PDR  & IONet & RoNIN & SSHNN & IMUNet & Proposed \\
			\midrule
			\multirow{2}{*}{Seen}   & $\vb*{e}^{\mathrm{APE}}_{\mathrm{RMSE}}$        & 29.5 & 21.1  & 3.5   & 4.96  & 3.7    & 4.0 \\
			                        & $\vb*{e}^{\mathrm{RPE}}_{RMSE,\SI{1}{\minute}}$ & 21.4 & 24.6  & 2.7   & 3.48  & 2.7    & 2.2 \\
			\multirow{2}{*}{Unseen} & $\vb*{e}^{\mathrm{APE}}_{\mathrm{RMSE}}$        & 27.7 & 32.0  & 5.1   & 6.80  & 6.1    & 3.5 \\
						            & $\vb*{e}^{\mathrm{RPE}}_{RMSE,\SI{1}{\minute}}$ & 23.2 & 26.9  & 4.4   & 5.55  & 4.7    & 2.0 \\
			\bottomrule 
		\end{tabular*}     
   	}
	\begin{columns}[t]
		\begin{column}{0.5\textwidth}
		   	\begin{figure}
    			\includegraphics[height=4.2cm]{中华人民共和国国民经济和社会发展第十四个五年规划和2035年远景目标纲要_封面.png}
		   	\end{figure}
		\end{column}   
		\begin{column}{0.5\textwidth}

		\end{column}
	\end{columns} 
\end{frame}

\begin{frame} 
 	\frametitle{数据驱动行人航迹推算方法研究}
 	\framesubtitle{RoNIN数据集 Seen 测试集观测量约束位姿评价结果}
    {\footnotesize
    \setlength{\tabcolsep}{2pt}
		\begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lcrrrrrrrrrrrrr}
			\toprule
			\multirow{2}{*}{轨迹} & \multirow{2}{*}{\makecell{里程\\$\left(\unit{m}\right)$}} & \multirow{2}{*}{\makecell{时长\\$\left(\unit{s}\right)$}} 
			& \multicolumn{4}{c}{InEKF + $\vb*{v}_s^n$} & \multicolumn{4}{c}{InEKF + $\vb*{R}_b^n$ + $\vb*{v}$} & \multicolumn{4}{c}{InEKF + $\vb*{R}_b^n$ + $\vb*{v}_b^b$}\\
			\cmidrule{4-7} \cmidrule{8-11} \cmidrule{12-15}
			& & & $\vb*{e}^{\mathrm{AOE}}$ & $\vb*{e}^{\mathrm{ROE}}$ & $\vb*{e}^{\mathrm{APE}}$ & $\vb*{e}^{\mathrm{RPE}}$ & $\vb*{e}^{\mathrm{AOE}}$ & $\vb*{e}^{\mathrm{ROE}}$ & $\vb*{e}^{\mathrm{APE}}$ & $\vb*{e}^{\mathrm{RPE}}$ & $\vb*{e}^{\mathrm{AOE}}$ & $\vb*{e}^{\mathrm{ROE}}$ & $\vb*{e}^{\mathrm{APE}}$ & $\vb*{e}^{\mathrm{RPE}}$  \\
			\midrule
			a000\_7 & 287 & 294 & 12.3 & 10.3 & 2.1 & 2.4 & 8.9 & 5.5 & 6.5 & 5.0 & 0.9 & 0.9 & 1.9 & 1.1 \\
			a000\_11 & 274 & 280 & 43.8 & 21.6 & 1.9 & 1.3 & 4.1 & 3.5 & 9.9 & 11.6 & 0.6 & 0.8 & 5.9 & 6.9 \\
			a001\_2 & 454 & 630 & 14.7 & 22.5 & 4.3 & 4.2 & 2.8 & 3.6 & 14.8 & 12.4 & 2.6 & 2.9 & 2.6 & 2.0 \\
			a003\_3 & 388 & 487 & 66.6 & 81.9 & 9.8 & 3.3 & 3.3 & 6.1 & 11.1 & 6.0 & 3.3 & 5.8 & 5.7 & 2.1 \\
			a004\_3 & 252 & 256 & 21.0 & 38.8 & 1.7 & 0.7 & 3.0 & 1.6 & 2.7 & 3.7 & 0.8 & 0.9 & 1.1 & 0.6 \\
			a005\_3 & 415 & 591 & 48.5 & 73.6 & 6.6 & 2.0 & 1.8 & 2.2 & 5.3 & 4.0 & 1.0 & 1.3 & 2.4 & 1.3 \\
			a009\_1 & 271 & 414 & 36.5 & 64.5 & 5.0 & 5.2 & 2.2 & 2.5 & 14.2 & 4.4 & 1.5 & 1.7 & 6.5 & 2.5 \\
			a010\_2 & 385 & 653 & 14.3 & 19.7 & 9.8 & 4.6 & 13.2 & 5.7 & 12.9 & 6.7 & 2.4 & 2.4 & 2.4 & 1.4 \\
			a011\_2 & 377 & 684 & 14.4 & 8.6 & 2.4 & 0.7 & 12.7 & 3.7 & 7.6 & 7.0 & 0.9 & 0.7 & 5.8 & 2.8 \\
			a012\_2 & 296 & 593 & 14.3 & 23.9 & 6.0 & 2.9 & 10.5 & 4.6 & 8.3 & 4.9 & 3.5 & 2.2 & 7.8 & 2.2 \\
			平均值 & 420 & 555 & 31.1 & 38.8 & 5.9 & 3.6 & 6.7 & 4.1 & 8.4 & 7.0 & 1.9 & 1.7 & 4.0 & 2.2 \\
			\bottomrule 
		\end{tabular*}
	}	
\end{frame}

\begin{frame} 
 	\frametitle{数据驱动行人航迹推算方法研究}
 	\framesubtitle{RoNIN数据集 Unseen 测试集观测量约束位姿评价结果}
    {\footnotesize
    \setlength{\tabcolsep}{2pt}
		\begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lcrrrrrrrrrrrrr}
			\toprule
			\multirow{2}{*}{轨迹} & \multirow{2}{*}{\makecell{里程\\$\left(\unit{m}\right)$}} & \multirow{2}{*}{\makecell{时长\\$\left(\unit{s}\right)$}} 
			& \multicolumn{4}{c}{InEKF + $\vb*{v}_s^n$} & \multicolumn{4}{c}{InEKF + $\vb*{R}_b^n$ + $\vb*{v}$} & \multicolumn{4}{c}{InEKF + $\vb*{R}_b^n$ + $\vb*{v}_b^b$}\\
			\cmidrule{4-7} \cmidrule{8-11} \cmidrule{12-15}
			& & & $\vb*{e}^{\mathrm{AOE}}$ & $\vb*{e}^{\mathrm{ROE}}$ & $\vb*{e}^{\mathrm{APE}}$ & $\vb*{e}^{\mathrm{RPE}}$ & $\vb*{e}^{\mathrm{AOE}}$ & $\vb*{e}^{\mathrm{ROE}}$ & $\vb*{e}^{\mathrm{APE}}$ & $\vb*{e}^{\mathrm{RPE}}$ & $\vb*{e}^{\mathrm{AOE}}$ & $\vb*{e}^{\mathrm{ROE}}$ & $\vb*{e}^{\mathrm{APE}}$ & $\vb*{e}^{\mathrm{RPE}}$  \\
			\midrule
			a006\_2 & 284 & 838 & 1.9 & 1.5 & 1.6 & 1.1 & 1.8 & 1.4 & 15.4 & 10.4 & 1.8 & 1.4 & 6.1 & 5.6 \\
			a019\_3 & 343 & 443 & 1.1 & 1.9 & 4.7 & 2.6 & 1.4 & 2.4 & 9.5 & 5.6 & 1.3 & 2.1 & 4.2 & 2.3 \\
			a024\_1 & 387 & 458 & 0.6 & 0.8 & 1.4 & 1.1 & 0.7 & 1.0 & 7.7 & 4.1 & 0.6 & 0.9 & 2.4 & 1.4 \\
			a024\_3 & 229 & 519 & 0.9 & 1.6 & 2.0 & 2.0 & 1.0 & 1.7 & 13.8 & 10.7 & 1.0 & 1.6 & 4.7 & 3.0 \\
			a029\_1 & 353 & 421 & 1.4 & 2.0 & 9.0 & 5.4 & 0.7 & 1.0 & 7.4 & 4.9 & 0.6 & 0.9 & 3.1 & 1.5 \\
			a029\_2 & 301 & 523 & 1.6 & 2.7 & 3.0 & 2.5 & 1.5 & 2.6 & 7.9 & 6.8 & 1.4 & 2.5 & 1.4 & 1.5 \\
			a032\_1 & 394 & 428 & 0.4 & 0.6 & 1.2 & 0.9 & 0.5 & 0.7 & 9.1 & 5.0 & 0.5 & 0.6 & 3.1 & 2.2 \\
			a032\_3 & 541 & 693 & 0.4 & 0.6 & 2.5 & 1.6 & 0.5 & 0.8 & 5.4 & 5.8 & 0.4 & 0.7 & 2.1 & 1.9 \\
			a042\_2 & 412 & 717 & 1.2 & 1.9 & 5.6 & 1.7 & 1.2 & 1.9 & 12.9 & 8.8 & 1.1 & 1.9 & 2.6 & 1.8 \\
			a049\_1 & 297 & 347 & 0.7 & 1.3 & 4.0 & 3.3 & 0.8 & 1.3 & 10.7 & 5.4 & 0.7 & 1.2 & 3.8 & 3.6 \\
			平均值 & 456 & 571 & 1.9 & 3.1 & 5.3 & 3.4 & 1.3 & 1.9 & 10.2 & 6.0 & 1.2 & 1.8 & 3.5 & 2.0 \\	
			\bottomrule 
		\end{tabular*}
	}	
\end{frame}

